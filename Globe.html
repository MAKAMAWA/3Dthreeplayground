<html>

<head>

    <title>Globe app</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 100%
        }
    </style>
</head>

<body>
    <script src="js/three.js"></script>
    <script src="js/OrbitControls.js"></script>


    <script>
        // Our Javascript will go here.

        var scene;
        var camera;
        var renderer;


        function init() {


            scene = new THREE.Scene();

            renderer = new THREE.WebGLRenderer();
            renderer.setClearColor(0x000000, 1.0);
            renderer.setSize(window.innerWidth, window.innerHeight);


            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.x = 35;
            camera.position.y = 36;
            camera.position.z = 33;
            camera.lookAt(scene.position);

            // earth
            var sphereGeometry = new THREE.SphereGeometry(15, 30, 30);
            // use createEarthMaterial function to create material
            var sphereMaterial = createEarthMaterial();
            var earthMesh = new THREE.Mesh(sphereGeometry, sphereMaterial);
            earthMesh.name = 'earth';
            scene.add(earthMesh);

            //cloud
            var cloudGeometry = new THREE.SphereGeometry(sphereGeometry.parameters.radius * 1.01, sphereGeometry.parameters.widthSegments, sphereGeometry.parameters.heightSegments);
            // use createCloudMaterial function to create material
            var cloudMaterial = createCloudMaterial();
            var cloudMesh = new THREE.Mesh(cloudGeometry, cloudMaterial);
            earthMesh.name = 'cloud';
            scene.add(cloudMesh);


            // DirectionalLight got problem


            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(0, 1, 0);
            scene.add(light);

            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(0, -1, 0);
            scene.add(light);

            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(1, 0, 0);
            scene.add(light);


            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(0, 0, 1);
            scene.add(light);

            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(0, 0, -1);
            scene.add(light);


            var light = new THREE.DirectionalLight(0xffffff, 0.5);
            light.position.set(-1, 0, 0);
            scene.add(light);

            var ambientLight = new THREE.AmbientLight(0x111111);
            scene.add(ambientLight);



            document.body.appendChild(renderer.domElement);
            render();

            //add mouse control
            controls = new THREE.OrbitControls(camera);



        }

        function createEarthMaterial() {
            var earthTexture = THREE.ImageUtils.loadTexture("textures/earthmap4k.jpg");
            var earthMaterial = new THREE.MeshPhongMaterial();
            earthMaterial.map = earthTexture;
            return earthMaterial;
        }

        function createCloudMaterial() {
            var cloudTexture = THREE.ImageUtils.loadTexture("textures/fair_clouds_4k.png");
            var cloudMaterial = new THREE.MeshPhongMaterial();
            cloudMaterial.map = cloudTexture;
            cloudMaterial.transparent = true;
            return cloudMaterial;
        }


        function render() {


            renderer.render(scene, camera);
            requestAnimationFrame(render);

        }





        window.onload = init();
    </script>
</body>

</html>
